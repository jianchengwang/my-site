__NUXT_JSONP__("/tech/canal", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q){return {data:[{doc:{slug:m,description:"canal [kə'næl]，译意为水道\u002F管道\u002F沟渠，主要用途是基于 MySQL 数据库增量日志解析，提供增量数据订阅和消费",title:m,createdAt:"2019-11-20T00:00:00.000Z",categories:["java","middleware"],tags:[m],toc:[{id:x,depth:p,text:y,level:q,no:q,children:[]},{id:n,depth:p,text:n,level:q,no:p,children:[]}],body:{type:z,children:[{type:b,tag:i,props:{},children:[{type:b,tag:A,props:{},children:[{type:a,value:B}]},{type:a,value:C}]},{type:a,value:e},{type:a,value:e},{type:b,tag:D,props:{id:x},children:[{type:b,tag:o,props:{href:"#quickstart",ariaHidden:E,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:y}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:b,tag:o,props:{href:I,rel:[J,K,L],target:M},children:[{type:a,value:I}]}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"对于自建 MySQL , 需要先开启 Binlog 写入功能，配置 binlog-format 为 ROW 模式，my.cnf 中配置如下"}]},{type:a,value:e},{type:b,tag:r,props:{className:[s]},children:[{type:b,tag:t,props:{className:[u,N]},children:[{type:b,tag:v,props:{},children:[{type:a,value:"[mysqld]\n# open bin-log\nlog-bin=mysql-bin # 开启 binlog\nbinlog-format=ROW # 选择 ROW 模式\nserver_id=1 # 配置 MySQL replaction 需要定义，不要和 canal 的 slaveId 重复\n"}]}]}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"授权账户"}]},{type:a,value:e},{type:b,tag:r,props:{className:[s]},children:[{type:b,tag:t,props:{className:[u,N]},children:[{type:b,tag:v,props:{},children:[{type:a,value:"CREATE USER canal IDENTIFIED BY 'canal';  \nGRANT SELECT, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'canal'@'%';\n-- GRANT ALL PRIVILEGES ON *.* TO 'canal'@'%' ;\nFLUSH PRIVILEGES;\n"}]}]}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:a,value:"启动服务"}]},{type:a,value:e},{type:b,tag:r,props:{className:[s]},children:[{type:b,tag:t,props:{className:[u,"language-shell"]},children:[{type:b,tag:v,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"wget"}]},{type:a,value:" https:\u002F\u002Fgithub.com\u002Falibaba\u002Fcanal\u002Freleases\u002Fdownload\u002Fcanal-1.1.4\u002Fcanal.deployer-1.1.4.tar.gz\n"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"mkdir"}]},{type:a,value:" canal\n"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"tar"}]},{type:a,value:" -zxvf canal.deployer-1.1.4.tar.gz -C \u002Froot\u002Fserve\u002Fcanal\n"},{type:b,tag:c,props:{className:[d,"builtin","class-name"]},children:[{type:a,value:"cd"}]},{type:a,value:" canal\n\n"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"vim"}]},{type:a,value:" conf\u002Fexample\u002Finstance.properties\n"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"## mysql serverId"}]},{type:a,value:"\ncanal.instance.mysql.slaveId "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:g}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,w]},children:[{type:a,value:"1234"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"#position info，需要改成自己的数据库信息"}]},{type:a,value:"\ncanal.instance.master.address "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:g}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,w]},children:[{type:a,value:"127.0"}]},{type:a,value:".0.1:3306 \ncanal.instance.master.journal.name "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:g}]},{type:a,value:" \ncanal.instance.master.position "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:g}]},{type:a,value:" \ncanal.instance.master.timestamp "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:g}]},{type:a,value:" \n"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"#canal.instance.standby.address = "}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"#canal.instance.standby.journal.name ="}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"#canal.instance.standby.position = "}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"#canal.instance.standby.timestamp = "}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"#username\u002Fpassword，需要改成自己的数据库信息"}]},{type:a,value:"\ncanal.instance.dbUsername "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:g}]},{type:a,value:" canal  \ncanal.instance.dbPassword "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:g}]},{type:a,value:" canal\ncanal.instance.defaultDatabaseName "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:g}]},{type:a,value:"\ncanal.instance.connectionCharset "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:g}]},{type:a,value:" UTF-8\n"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"#table regex"}]},{type:a,value:"\ncanal.instance.filter.regex "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:g}]},{type:a,value:" ."},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:k}]},{type:a,value:"*"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:".."}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:k}]},{type:a,value:"*\n\n"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"# 启动"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"sh"}]},{type:a,value:" bin\u002Fstartup.sh\n"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"# 防火墙允许接口访问"}]},{type:a,value:"\nfirewall-cmd --permanent --zone"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:g}]},{type:a,value:"public --add-port "},{type:b,tag:c,props:{className:[d,w]},children:[{type:a,value:"11111"}]},{type:a,value:"\u002Ftcp\nfirewall-cmd --reload\n\n"}]}]}]},{type:a,value:e},{type:b,tag:D,props:{id:n},children:[{type:b,tag:o,props:{href:"#%E7%9B%B8%E5%85%B3%E9%93%BE%E6%8E%A5",ariaHidden:E,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:n}]},{type:a,value:e},{type:b,tag:i,props:{},children:[{type:b,tag:o,props:{href:"https:\u002F\u002Fgithub.com\u002Falibaba\u002Fcanal",rel:[J,K,L],target:M},children:[{type:a,value:"github:canal"}]}]}]},excerpt:{type:z,children:[{type:b,tag:i,props:{},children:[{type:b,tag:A,props:{},children:[{type:a,value:B}]},{type:a,value:C}]}]},dir:"\u002Ftech",path:"\u002Ftech\u002Fcanal",extension:".md",updatedAt:"2020-12-03T15:41:42.122Z"},prev:{slug:P,title:P,path:"\u002Ftech\u002Fssh"},next:{slug:Q,title:Q,path:"\u002Ftech\u002Fcurl"},postId:m,tags:void 0}],fetch:[],mutations:[]}}("text","element","span","token","\n","operator","=","comment","p","punctuation","\\","function","canal","相关链接","a",2,1,"div","nuxt-content-highlight","pre","line-numbers","code","number","quickstart","QuickStart","root","strong","canal [kə'næl]","，译意为水道\u002F管道\u002F沟渠，主要用途是基于 MySQL 数据库增量日志解析，提供增量数据订阅和消费","h2","true",-1,"icon","icon-link","https:\u002F\u002Fgithub.com\u002Falibaba\u002Fcanal\u002Fwiki\u002FQuickStart","nofollow","noopener","noreferrer","_blank","language-text"," ","ssh","curl")));